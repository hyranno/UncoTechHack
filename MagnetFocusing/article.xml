<?xml version="1.0" encoding="UTF-8"?>
<?latexml searchpaths="C:\Users\akira404\Desktop\������\�X�g�[���[��܂܂Ȃ��l�@�n\Unconfirmed\Source\MagnetFocusing"?>
<?latexml class="article" options="dvipdfmx"?>
<?latexml package="geometry" options="a4paper, margin=2cm"?>
<?latexml package="graphicx" options="dvipdfmx"?>
<?latexml RelaxNGSchema="LaTeXML"?>
<document xmlns="http://dlmf.nist.gov/LaTeXML" class="ltx_authors_1line">
  <resource src="LaTeXML.css" type="text/css"/>
  <resource src="ltx-article.css" type="text/css"/>
  <title>Intensifying Magnets with Optimization of Magnetic Dipole directions</title>
  <creator role="author">
    <personname>Hirano Takeshi </personname>
    <contact role="thanks">hyranno4pub@gmail.com http://uncotechhack.net</contact>
  </creator>
  <date role="creation">2020/03/26</date>
  <abstract name="Abstract">
    <p>Arranging some magnets can intensify its magnetic field, as known as Halbach array.
Magnets can be considered as a 3 dimensional array of magnetic dipoles.
Optimizing these magnetic dipole directions, magnets can be more stronger.
This article shows how to ditermine these directions, and how to magnetize ferromagnetic material with that directions.</p>
  </abstract>
  <section inlist="toc" xml:id="S1">
    <tags>
      <tag>1</tag>
      <tag role="refnum">1</tag>
      <tag role="typerefnum">§1</tag>
    </tags>
    <title><tag close=" ">1</tag>Background</title>
    <para xml:id="S1.p1">
      <p>Magnets are used for conversion between force and electricity, like motor and generator.
These devices can be more efficient, powerful, smaller, lighter, or cheaper with optimizing magnets.
Arranging magnets into Halbach array is one of the methods to achieve that.
<!--  %**** MagnetFocusing.tex Line 25 **** -->On the other hand, magnet itself can be considered as a 3 dimensional array of magnetic dipoles.
So scaling down magnets to magnetic dipoles, it can be said that optimizing these magnetic dipole directions can intensify the magnet.</p>
    </para>
  </section>
  <section inlist="toc" xml:id="S2">
    <tags>
      <tag>2</tag>
      <tag role="refnum">2</tag>
      <tag role="typerefnum">§2</tag>
    </tags>
    <title><tag close=" ">2</tag>Basic Situation</title>
    <para xml:id="S2.p1">
      <p>In this section, we consider a basic situation that maximize the magnetic field at point <Math mode="inline" tex="P_{f}" text="P _ f" xml:id="S2.p1.m1">
          <XMath>
            <XMApp>
              <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
              <XMTok font="italic" role="UNKNOWN">P</XMTok>
              <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
            </XMApp>
          </XMath>
        </Math>, toward vector <Math mode="inline" tex="\overrightarrow{v_{f}}" text="overrightarrow@(v _ f)" xml:id="S2.p1.m2">
          <XMath>
            <XMApp>
              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                <XMTok font="italic" role="UNKNOWN">v</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>.</p>
    </para>
    <subsection inlist="toc" xml:id="S2.SS1">
      <tags>
        <tag>2.1</tag>
        <tag role="refnum">2.1</tag>
        <tag role="typerefnum">§2.1</tag>
      </tags>
      <title><tag close=" ">2.1</tag>Determining direction</title>
      <subsubsection inlist="toc" xml:id="S2.SS1.SSS1">
        <tags>
          <tag>2.1.1</tag>
          <tag role="refnum">2.1.1</tag>
          <tag role="typerefnum">§2.1.1</tag>
        </tags>
        <title><tag close=" ">2.1.1</tag>Method</title>
        <para xml:id="S2.SS1.SSS1.p1">
          <p>Magnetic flux density <Math mode="inline" tex="\overrightarrow{dB}" text="overrightarrow@(d * B)" xml:id="S2.SS1.SSS1.p1.m1">
              <XMath>
                <XMApp>
                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                    <XMTok font="italic" role="UNKNOWN">B</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math> at point <Math mode="inline" tex="P" text="P" xml:id="S2.SS1.SSS1.p1.m2">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">P</XMTok>
              </XMath>
            </Math> from magnetic dipole moment <Math mode="inline" tex="\overrightarrow{dM}" text="overrightarrow@(d * M)" xml:id="S2.SS1.SSS1.p1.m3">
              <XMath>
                <XMApp>
                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                    <XMTok font="italic" role="UNKNOWN">M</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math> at point <Math mode="inline" tex="P_{m}" text="P _ m" xml:id="S2.SS1.SSS1.p1.m4">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                </XMApp>
              </XMath>
            </Math> can be represented as below.</p>
        </para>
        <para xml:id="S2.SS1.SSS1.p2">
          <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx1">
            <equation labels="LABEL:eq:dB" xml:id="S2.E1">
              <tags>
                <tag>(1)</tag>
                <tag role="refnum">1</tag>
              </tags>
              <MathFork>
                <Math tex="\displaystyle\overrightarrow{dB(P)}=k\nabla\frac{\overrightarrow{dM(P_{m})}%&#10;\cdot\overrightarrow{(P-P_{m})}}{\left|\overrightarrow{(P-P_{m})}\right|^{3}}" text="overrightarrow@(d * B * P) = k * nabla@((overrightarrow@(d * M * P _ m) cdot overrightarrow@(P - P _ m)) / (absolute-value@(overrightarrow@(P - P _ m))) ^ 3)" xml:id="S2.E1.m2">
                  <XMath>
                    <XMApp>
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMApp>
                        <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok font="italic" role="UNKNOWN">d</XMTok>
                          <XMTok font="italic" role="UNKNOWN">B</XMTok>
                          <XMDual>
                            <XMRef idref="S2.E1.m2.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMTok font="italic" role="UNKNOWN" xml:id="S2.E1.m2.1">P</XMTok>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                      </XMApp>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMTok font="italic" role="UNKNOWN">k</XMTok>
                        <XMApp>
                          <XMTok name="nabla" role="OPERATOR">∇</XMTok>
                          <XMApp>
                            <XMTok mathstyle="display" meaning="divide" role="FRACOP"/>
                            <XMApp>
                              <XMTok name="cdot" role="MULOP">⋅</XMTok>
                              <XMApp>
                                <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                  <XMTok font="italic" role="UNKNOWN">M</XMTok>
                                  <XMDual>
                                    <XMRef idref="S2.E1.m2.2"/>
                                    <XMWrap>
                                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="S2.E1.m2.2">
                                        <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                        <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      </XMApp>
                                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                <XMDual>
                                  <XMRef idref="S2.E1.m2.3"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E1.m2.3">
                                      <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                        <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                            </XMApp>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                              <XMDual>
                                <XMApp>
                                  <XMTok meaning="absolute-value"/>
                                  <XMRef idref="S2.E1.m2.5"/>
                                </XMApp>
                                <XMWrap>
                                  <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                  <XMApp xml:id="S2.E1.m2.5">
                                    <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                    <XMDual>
                                      <XMRef idref="S2.E1.m2.4"/>
                                      <XMWrap>
                                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                                        <XMApp xml:id="S2.E1.m2.4">
                                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMApp>
                                            <XMTok role="SUBSCRIPTOP" scriptpos="post5"/>
                                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMApp>
                                  <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                </XMWrap>
                              </XMDual>
                              <XMTok fontsize="70%" meaning="3" role="NUMBER">3</XMTok>
                            </XMApp>
                          </XMApp>
                        </XMApp>
                      </XMApp>
                    </XMApp>
                  </XMath>
                </Math>
                <MathBranch>
                  <td align="right"><Math mode="inline" tex="\displaystyle\overrightarrow{dB(P)}=k\nabla\frac{\overrightarrow{dM(P_{m})}%&#10;\cdot\overrightarrow{(P-P_{m})}}{\left|\overrightarrow{(P-P_{m})}\right|^{3}}" text="overrightarrow@(d * B * P) = k * nabla@((overrightarrow@(d * M * P _ m) cdot overrightarrow@(P - P _ m)) / (absolute-value@(overrightarrow@(P - P _ m))) ^ 3)" xml:id="S2.E1.m1">
                      <XMath>
                        <XMApp>
                          <XMTok meaning="equals" role="RELOP">=</XMTok>
                          <XMApp>
                            <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" role="UNKNOWN">d</XMTok>
                              <XMTok font="italic" role="UNKNOWN">B</XMTok>
                              <XMDual>
                                <XMRef idref="S2.E1.m1.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMTok font="italic" role="UNKNOWN" xml:id="S2.E1.m1.1">P</XMTok>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok font="italic" role="UNKNOWN">k</XMTok>
                            <XMApp>
                              <XMTok name="nabla" role="OPERATOR">∇</XMTok>
                              <XMApp>
                                <XMTok mathstyle="display" meaning="divide" role="FRACOP"/>
                                <XMApp>
                                  <XMTok name="cdot" role="MULOP">⋅</XMTok>
                                  <XMApp>
                                    <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                      <XMTok font="italic" role="UNKNOWN">M</XMTok>
                                      <XMDual>
                                        <XMRef idref="S2.E1.m1.2"/>
                                        <XMWrap>
                                          <XMTok role="OPEN" stretchy="false">(</XMTok>
                                          <XMApp xml:id="S2.E1.m1.2">
                                            <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                          </XMApp>
                                          <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                        </XMWrap>
                                      </XMDual>
                                    </XMApp>
                                  </XMApp>
                                  <XMApp>
                                    <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                    <XMDual>
                                      <XMRef idref="S2.E1.m1.3"/>
                                      <XMWrap>
                                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                                        <XMApp xml:id="S2.E1.m1.3">
                                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMApp>
                                            <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMApp>
                                </XMApp>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                  <XMDual>
                                    <XMApp>
                                      <XMTok meaning="absolute-value"/>
                                      <XMRef idref="S2.E1.m1.5"/>
                                    </XMApp>
                                    <XMWrap>
                                      <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                      <XMApp xml:id="S2.E1.m1.5">
                                        <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                        <XMDual>
                                          <XMRef idref="S2.E1.m1.4"/>
                                          <XMWrap>
                                            <XMTok role="OPEN" stretchy="false">(</XMTok>
                                            <XMApp xml:id="S2.E1.m1.4">
                                              <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                              <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                              <XMApp>
                                                <XMTok role="SUBSCRIPTOP" scriptpos="post5"/>
                                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                              </XMApp>
                                            </XMApp>
                                            <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                          </XMWrap>
                                        </XMDual>
                                      </XMApp>
                                      <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                  <XMTok fontsize="70%" meaning="3" role="NUMBER">3</XMTok>
                                </XMApp>
                              </XMApp>
                            </XMApp>
                          </XMApp>
                        </XMApp>
                      </XMath>
                    </Math></td>
                </MathBranch>
              </MathFork>
            </equation>
          </equationgroup>
        </para>
        <para xml:id="S2.SS1.SSS1.p3">
          <p>Here, <Math mode="inline" tex="k" text="k" xml:id="S2.SS1.SSS1.p3.m1">
              <XMath>
                <XMTok font="italic" role="UNKNOWN">k</XMTok>
              </XMath>
            </Math> is a constant number.</p>
        </para>
        <para xml:id="S2.SS1.SSS1.p4">
          <p>Therefore, to maximize the magnetic field at point <Math mode="inline" tex="P_{f}" text="P _ f" xml:id="S2.SS1.SSS1.p4.m1">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                </XMApp>
              </XMath>
            </Math>, toward vector <Math mode="inline" tex="\overrightarrow{v_{f}}" text="overrightarrow@(v _ f)" xml:id="S2.SS1.SSS1.p4.m2">
              <XMath>
                <XMApp>
                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                    <XMTok font="italic" role="UNKNOWN">v</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math>,
solving equation below for <Math mode="inline" tex="\overrightarrow{dM}" text="overrightarrow@(d * M)" xml:id="S2.SS1.SSS1.p4.m3">
              <XMath>
                <XMApp>
                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                  <XMApp>
                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                    <XMTok font="italic" role="UNKNOWN">M</XMTok>
                  </XMApp>
                </XMApp>
              </XMath>
            </Math> gives the direction that the magnetic dipole at <Math mode="inline" tex="P_{m}" text="P _ m" xml:id="S2.SS1.SSS1.p4.m4">
              <XMath>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                </XMApp>
              </XMath>
            </Math> should take.</p>
        </para>
        <para xml:id="S2.SS1.SSS1.p5">
          <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx2">
            <equation labels="LABEL:eq:directioneq" xml:id="S2.E2">
              <tags>
                <tag>(2)</tag>
                <tag role="refnum">2</tag>
              </tags>
              <MathFork>
                <Math tex="\displaystyle\overrightarrow{v_{f}}\cdot\overrightarrow{dB(P_{f})}=\left|%&#10;\overrightarrow{v_{f}}\right|\left|\overrightarrow{dB(P_{f})}\right|" text="overrightarrow@(v _ f) cdot overrightarrow@(d * B * P _ f) = absolute-value@(overrightarrow@(v _ f)) * absolute-value@(overrightarrow@(d * B * P _ f))" xml:id="S2.E2.m2">
                  <XMath>
                    <XMApp>
                      <XMTok meaning="equals" role="RELOP">=</XMTok>
                      <XMApp>
                        <XMTok name="cdot" role="MULOP">⋅</XMTok>
                        <XMApp>
                          <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">v</XMTok>
                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                          </XMApp>
                        </XMApp>
                        <XMApp>
                          <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok font="italic" role="UNKNOWN">d</XMTok>
                            <XMTok font="italic" role="UNKNOWN">B</XMTok>
                            <XMDual>
                              <XMRef idref="S2.E2.m2.1"/>
                              <XMWrap>
                                <XMTok role="OPEN" stretchy="false">(</XMTok>
                                <XMApp xml:id="S2.E2.m2.1">
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                </XMApp>
                                <XMTok role="CLOSE" stretchy="false">)</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMApp>
                        </XMApp>
                      </XMApp>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="absolute-value"/>
                            <XMRef idref="S2.E2.m2.3"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                            <XMApp xml:id="S2.E2.m2.3">
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                <XMTok font="italic" role="UNKNOWN">v</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                          </XMWrap>
                        </XMDual>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="absolute-value"/>
                            <XMRef idref="S2.E2.m2.4"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                            <XMApp xml:id="S2.E2.m2.4">
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                <XMDual>
                                  <XMRef idref="S2.E2.m2.2"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E2.m2.2">
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                            </XMApp>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                    </XMApp>
                  </XMath>
                </Math>
                <MathBranch>
                  <td align="right"><Math mode="inline" tex="\displaystyle\overrightarrow{v_{f}}\cdot\overrightarrow{dB(P_{f})}=\left|%&#10;\overrightarrow{v_{f}}\right|\left|\overrightarrow{dB(P_{f})}\right|" text="overrightarrow@(v _ f) cdot overrightarrow@(d * B * P _ f) = absolute-value@(overrightarrow@(v _ f)) * absolute-value@(overrightarrow@(d * B * P _ f))" xml:id="S2.E2.m1">
                      <XMath>
                        <XMApp>
                          <XMTok meaning="equals" role="RELOP">=</XMTok>
                          <XMApp>
                            <XMTok name="cdot" role="MULOP">⋅</XMTok>
                            <XMApp>
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">v</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMApp>
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                <XMDual>
                                  <XMRef idref="S2.E2.m1.1"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E2.m1.1">
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="absolute-value"/>
                                <XMRef idref="S2.E2.m1.3"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                <XMApp xml:id="S2.E2.m1.3">
                                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                  <XMApp>
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                    <XMTok font="italic" role="UNKNOWN">v</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                              </XMWrap>
                            </XMDual>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="absolute-value"/>
                                <XMRef idref="S2.E2.m1.4"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                <XMApp xml:id="S2.E2.m1.4">
                                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                    <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                    <XMDual>
                                      <XMRef idref="S2.E2.m1.2"/>
                                      <XMWrap>
                                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                                        <XMApp xml:id="S2.E2.m1.2">
                                          <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                        </XMApp>
                                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMApp>
                                </XMApp>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMApp>
                        </XMApp>
                      </XMath>
                    </Math></td>
                </MathBranch>
              </MathFork>
            </equation>
          </equationgroup>
        </para>
      </subsubsection>
      <subsubsection inlist="toc" xml:id="S2.SS1.SSS2">
        <tags>
          <tag>2.1.2</tag>
          <tag role="refnum">2.1.2</tag>
          <tag role="typerefnum">§2.1.2</tag>
        </tags>
        <title><tag close=" ">2.1.2</tag>Results</title>
        <para xml:id="S2.SS1.SSS2.p1">
          <p>For example here, we consider a cylinder shaped magnet which fills <Math mode="inline" tex="-5&lt;z&lt;5" text="- 5 less z less 5" xml:id="S2.SS1.SSS2.p1.m1">
              <XMath>
                <XMApp>
                  <XMTok meaning="multirelation"/>
                  <XMApp>
                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                    <XMTok meaning="5" role="NUMBER">5</XMTok>
                  </XMApp>
                  <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                  <XMTok font="italic" role="UNKNOWN">z</XMTok>
                  <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                  <XMTok meaning="5" role="NUMBER">5</XMTok>
                </XMApp>
              </XMath>
            </Math> and <Math mode="inline" tex="\sqrt{x^{2}+y^{2}}&lt;10" text="square-root@(x ^ 2 + y ^ 2) less 10" xml:id="S2.SS1.SSS2.p1.m2">
              <XMath>
                <XMApp>
                  <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                  <XMApp>
                    <XMTok meaning="square-root"/>
                    <XMApp>
                      <XMTok meaning="plus" role="ADDOP">+</XMTok>
                      <XMApp>
                        <XMTok role="SUPERSCRIPTOP" scriptpos="post2"/>
                        <XMTok font="italic" role="UNKNOWN">x</XMTok>
                        <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                      </XMApp>
                      <XMApp>
                        <XMTok role="SUPERSCRIPTOP" scriptpos="post2"/>
                        <XMTok font="italic" role="UNKNOWN">y</XMTok>
                        <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                      </XMApp>
                    </XMApp>
                  </XMApp>
                  <XMTok meaning="10" role="NUMBER">10</XMTok>
                </XMApp>
              </XMath>
            </Math>.
For <Math mode="inline" tex="P_{f}=(0,0,10)" text="P _ f = vector@(0, 0, 10)" xml:id="S2.SS1.SSS2.p1.m3">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                  </XMApp>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="vector"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m3.1"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m3.2"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m3.3"/>
                    </XMApp>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                      <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p1.m3.1">0</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p1.m3.2">0</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok meaning="10" role="NUMBER" xml:id="S2.SS1.SSS2.p1.m3.3">10</XMTok>
                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math> and <Math mode="inline" tex="\overrightarrow{v_{f}}=(0,0,-1)" text="overrightarrow@(v _ f) = vector@(0, 0, - 1)" xml:id="S2.SS1.SSS2.p1.m4">
              <XMath>
                <XMApp>
                  <XMTok meaning="equals" role="RELOP">=</XMTok>
                  <XMApp>
                    <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                      <XMTok font="italic" role="UNKNOWN">v</XMTok>
                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                    </XMApp>
                  </XMApp>
                  <XMDual>
                    <XMApp>
                      <XMTok meaning="vector"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m4.1"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m4.2"/>
                      <XMRef idref="S2.SS1.SSS2.p1.m4.3"/>
                    </XMApp>
                    <XMWrap>
                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                      <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p1.m4.1">0</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p1.m4.2">0</XMTok>
                      <XMTok role="PUNCT">,</XMTok>
                      <XMApp xml:id="S2.SS1.SSS2.p1.m4.3">
                        <XMTok meaning="minus" role="ADDOP">-</XMTok>
                        <XMTok meaning="1" role="NUMBER">1</XMTok>
                      </XMApp>
                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                    </XMWrap>
                  </XMDual>
                </XMApp>
              </XMath>
            </Math>, magnetic flux density with or without optimization of magnetic dipole directions have been calculated.
Results are calculated with Maxima, then drawn with Gnuplot.</p>
        </para>
        <para xml:id="S2.SS1.SSS2.p2">
          <p>Direction of the magnetic dipoles is shown as equation<ref labelref="LABEL:eq:dMdir"/>.
Intensity of the magnetic dipoles are constant number depending on saturation magnetic moment of the material.</p>
        </para>
        <para xml:id="S2.SS1.SSS2.p3">
          <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx3">
            <equation labels="LABEL:eq:dMdir" xml:id="S2.E3">
              <tags>
                <tag>(3)</tag>
                <tag role="refnum">3</tag>
              </tags>
              <MathFork>
                <Math tex="\displaystyle\left(3P_{mx}(P_{mz}-10),3P_{my}(P_{mz}-10),(P_{mz}-10)^{2}-2P_{%&#10;mx}^{2}-2P_{my}^{2}\right)" text="vector@(3 * P _ (m * x) * (P _ (m * z) - 10), 3 * P _ (m * y) * (P _ (m * z) - 10), (P _ (m * z) - 10) ^ 2 - 2 * (P _ (m * x)) ^ 2 - 2 * (P _ (m * y)) ^ 2)" xml:id="S2.E3.m2">
                  <XMath>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="vector"/>
                        <XMRef idref="S2.E3.m2.1"/>
                        <XMRef idref="S2.E3.m2.2"/>
                        <XMRef idref="S2.E3.m2.3"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="true">(</XMTok>
                        <XMApp xml:id="S2.E3.m2.1">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="3" role="NUMBER">3</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMDual>
                            <XMRef idref="S2.E3.m2.1.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E3.m2.1.1">
                                <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok meaning="10" role="NUMBER">10</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMApp xml:id="S2.E3.m2.2">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="3" role="NUMBER">3</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMDual>
                            <XMRef idref="S2.E3.m2.2.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E3.m2.2.1">
                                <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok meaning="10" role="NUMBER">10</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMApp xml:id="S2.E3.m2.3">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMApp>
                            <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                            <XMDual>
                              <XMRef idref="S2.E3.m2.3.1"/>
                              <XMWrap>
                                <XMTok role="OPEN" stretchy="false">(</XMTok>
                                <XMApp xml:id="S2.E3.m2.3.1">
                                  <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                  <XMApp>
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                    </XMApp>
                                  </XMApp>
                                  <XMTok meaning="10" role="NUMBER">10</XMTok>
                                </XMApp>
                                <XMTok role="CLOSE" stretchy="false">)</XMTok>
                              </XMWrap>
                            </XMDual>
                            <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                          </XMApp>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok meaning="2" role="NUMBER">2</XMTok>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok meaning="2" role="NUMBER">2</XMTok>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                            </XMApp>
                          </XMApp>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="true">)</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMath>
                </Math>
                <MathBranch>
                  <td align="right"><Math mode="inline" tex="\displaystyle\left(3P_{mx}(P_{mz}-10),3P_{my}(P_{mz}-10),(P_{mz}-10)^{2}-2P_{%&#10;mx}^{2}-2P_{my}^{2}\right)" text="vector@(3 * P _ (m * x) * (P _ (m * z) - 10), 3 * P _ (m * y) * (P _ (m * z) - 10), (P _ (m * z) - 10) ^ 2 - 2 * (P _ (m * x)) ^ 2 - 2 * (P _ (m * y)) ^ 2)" xml:id="S2.E3.m1">
                      <XMath>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="vector"/>
                            <XMRef idref="S2.E3.m1.1"/>
                            <XMRef idref="S2.E3.m1.2"/>
                            <XMRef idref="S2.E3.m1.3"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="OPEN" stretchy="true">(</XMTok>
                            <XMApp xml:id="S2.E3.m1.1">
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="3" role="NUMBER">3</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMDual>
                                <XMRef idref="S2.E3.m1.1.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E3.m1.1.1">
                                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                            <XMTok role="PUNCT">,</XMTok>
                            <XMApp xml:id="S2.E3.m1.2">
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="3" role="NUMBER">3</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMDual>
                                <XMRef idref="S2.E3.m1.2.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E3.m1.2.1">
                                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                            <XMTok role="PUNCT">,</XMTok>
                            <XMApp xml:id="S2.E3.m1.3">
                              <XMTok meaning="minus" role="ADDOP">-</XMTok>
                              <XMApp>
                                <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                <XMDual>
                                  <XMRef idref="S2.E3.m1.3.1"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E3.m1.3.1">
                                      <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                      <XMApp>
                                        <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                        <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                        <XMApp>
                                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                        </XMApp>
                                      </XMApp>
                                      <XMTok meaning="10" role="NUMBER">10</XMTok>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                                <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                  <XMApp>
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                    </XMApp>
                                  </XMApp>
                                  <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                  <XMApp>
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMApp>
                                      <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                                    </XMApp>
                                  </XMApp>
                                  <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                                </XMApp>
                              </XMApp>
                            </XMApp>
                            <XMTok role="CLOSE" stretchy="true">)</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMath>
                    </Math></td>
                </MathBranch>
              </MathFork>
            </equation>
          </equationgroup>
        </para>
        <para xml:id="S2.SS1.SSS2.p4">
          <p>Figure<ref labelref="LABEL:fig:simulation_opt"/> shows the magnetic flux density with optimization of magnetic dipole directions.
Figure<ref labelref="LABEL:fig:simulation_straight"/> shows the magnetic flux density with uniformed magnetic dipole directions, for comparison.</p>
        </para>
        <figure inlist="lof" labels="LABEL:fig:simulation_opt" placement="htbp" xml:id="S2.F1">
          <tags>
            <tag>Figure 1</tag>
            <tag role="refnum">1</tag>
            <tag role="typerefnum">Figure 1</tag>
          </tags>
          <graphics candidates="resources\BM.svg" class="ltx_centering" graphic="./resources/BM.svg" options="clip=true, width=422.7795pt, bb=100 200 600 600" xml:id="S2.F1.g1"/>
          <toccaption class="ltx_centering"><tag close=" ">1</tag>Magnetic flux density with optimization of magnetic dipole directions</toccaption>
          <caption class="ltx_centering"><tag close=": ">Figure 1</tag>Magnetic flux density with optimization of magnetic dipole directions</caption>
<!--  %**** MagnetFocusing.tex Line 75 **** -->        </figure>
        <figure inlist="lof" labels="LABEL:fig:simulation_straight" placement="htbp" xml:id="S2.F2">
          <tags>
            <tag>Figure 2</tag>
            <tag role="refnum">2</tag>
            <tag role="typerefnum">Figure 2</tag>
          </tags>
          <graphics candidates="resources\BM_straight.svg" class="ltx_centering" graphic="./resources/BM_straight.svg" options="clip=true, width=422.7795pt, bb=100 200 600 600" xml:id="S2.F2.g1"/>
          <toccaption class="ltx_centering"><tag close=" ">2</tag>Magnetic flux dinsity with uniformed magnetic dipole directions</toccaption>
          <caption class="ltx_centering"><tag close=": ">Figure 2</tag>Magnetic flux dinsity with uniformed magnetic dipole directions</caption>
        </figure>
        <para xml:id="S2.SS1.SSS2.p5">
          <p>In figure<ref labelref="LABEL:fig:simulation_opt"/> and figure<ref labelref="LABEL:fig:simulation_straight"/>,
white arrows show directions of magnetic dipoles,
black arrows show directions of magnetic flux density,
and color show intensity of magnetic flux density.
Magnetic flux density inside magnet are not calculated.</p>
        </para>
        <para xml:id="S2.SS1.SSS2.p6">
          <p>Difference between figure<ref labelref="LABEL:fig:simulation_opt"/> and figure<ref labelref="LABEL:fig:simulation_straight"/> at the point <Math mode="inline" tex="(0,0,10)" text="vector@(0, 0, 10)" xml:id="S2.SS1.SSS2.p6.m1">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="vector"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m1.1"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m1.2"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m1.3"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m1.1">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m1.2">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="10" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m1.3">10</XMTok>
                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math>
is not so dramatic as near the point <Math mode="inline" tex="(0,0,5)" text="vector@(0, 0, 5)" xml:id="S2.SS1.SSS2.p6.m2">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="vector"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m2.1"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m2.2"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m2.3"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m2.1">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m2.2">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="5" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m2.3">5</XMTok>
                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math>,
but intensity of magnetic flux density at the point <Math mode="inline" tex="(0,0,10)" text="vector@(0, 0, 10)" xml:id="S2.SS1.SSS2.p6.m3">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="vector"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m3.1"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m3.2"/>
                    <XMRef idref="S2.SS1.SSS2.p6.m3.3"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m3.1">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="0" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m3.2">0</XMTok>
                    <XMTok role="PUNCT">,</XMTok>
                    <XMTok meaning="10" role="NUMBER" xml:id="S2.SS1.SSS2.p6.m3.3">10</XMTok>
                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math> in figure<ref labelref="LABEL:fig:simulation_opt"/> (<Math mode="inline" tex="&gt;3.2" text="absent &gt; 3.2" xml:id="S2.SS1.SSS2.p6.m4">
              <XMath>
                <XMApp>
                  <XMTok meaning="greater-than" role="RELOP">&gt;</XMTok>
                  <XMTok meaning="absent"/>
                  <XMTok meaning="3.2" role="NUMBER">3.2</XMTok>
                </XMApp>
              </XMath>
            </Math>)
is still larger than in figure<ref labelref="LABEL:fig:simulation_straight"/> (<Math mode="inline" tex="&lt;2.6" text="absent less 2.6" xml:id="S2.SS1.SSS2.p6.m5">
              <XMath>
                <XMApp>
                  <XMTok meaning="less-than" role="RELOP">&lt;</XMTok>
                  <XMTok meaning="absent"/>
                  <XMTok meaning="2.6" role="NUMBER">2.6</XMTok>
                </XMApp>
              </XMath>
            </Math>).</p>
        </para>
      </subsubsection>
    </subsection>
    <subsection inlist="toc" xml:id="S2.SS2">
      <tags>
        <tag>2.2</tag>
        <tag role="refnum">2.2</tag>
        <tag role="typerefnum">§2.2</tag>
      </tags>
      <title><tag close=" ">2.2</tag>Magnetization</title>
      <para xml:id="S2.SS2.p1">
        <p>I show two methods here to magnetize the magnet in these direction,
<!--  %**** MagnetFocusing.tex Line 100 **** -->the voxel method and the single magnetic dipole method.</p>
      </para>
      <para xml:id="S2.SS2.p2">
        <p>The voxel method means simply to magnetize indivisual magnet voxels and then combine them.
If you construct the magnet with a 3D printer,
this method can be applied with attaching magnetizing coil to the nozzle of the printer.</p>
      </para>
      <para xml:id="S2.SS2.p3">
        <p>The single magnetic dipole method uses a magnetizing coil as a magnetic dipole.
To magnetize in proper direction, magnetic flux density <Math mode="inline" tex="B_{c}" text="B _ c" xml:id="S2.SS2.p3.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">B</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">c</XMTok>
              </XMApp>
            </XMath>
          </Math> from the coil should fit the equation<ref labelref="LABEL:eq:magnetizeBc"/>.</p>
      </para>
      <para xml:id="S2.SS2.p4">
        <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx4">
          <equation labels="LABEL:eq:magnetizeBc" xml:id="S2.E4">
            <tags>
              <tag>(4)</tag>
              <tag role="refnum">4</tag>
            </tags>
            <MathFork>
              <Math tex="\displaystyle\overrightarrow{dM(P_{m})}\cdot\overrightarrow{B_{c}(P_{m})}=-%&#10;\left|\overrightarrow{dM(P_{m})}\right|\left|\overrightarrow{B_{c}(P_{m})}\right|" text="overrightarrow@(d * M * P _ m) cdot overrightarrow@(B _ c * P _ m) = - absolute-value@(overrightarrow@(d * M * P _ m)) * absolute-value@(overrightarrow@(B _ c * P _ m))" xml:id="S2.E4.m2">
                <XMath>
                  <XMApp>
                    <XMTok meaning="equals" role="RELOP">=</XMTok>
                    <XMApp>
                      <XMTok name="cdot" role="MULOP">⋅</XMTok>
                      <XMApp>
                        <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok font="italic" role="UNKNOWN">d</XMTok>
                          <XMTok font="italic" role="UNKNOWN">M</XMTok>
                          <XMDual>
                            <XMRef idref="S2.E4.m2.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E4.m2.1">
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                      </XMApp>
                      <XMApp>
                        <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">B</XMTok>
                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">c</XMTok>
                          </XMApp>
                          <XMDual>
                            <XMRef idref="S2.E4.m2.2"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E4.m2.2">
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                      </XMApp>
                    </XMApp>
                    <XMApp>
                      <XMTok meaning="minus" role="ADDOP">-</XMTok>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="absolute-value"/>
                            <XMRef idref="S2.E4.m2.5"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                            <XMApp xml:id="S2.E4.m2.5">
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                <XMTok font="italic" role="UNKNOWN">M</XMTok>
                                <XMDual>
                                  <XMRef idref="S2.E4.m2.3"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E4.m2.3">
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                            </XMApp>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                          </XMWrap>
                        </XMDual>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="absolute-value"/>
                            <XMRef idref="S2.E4.m2.6"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                            <XMApp xml:id="S2.E4.m2.6">
                              <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                  <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">c</XMTok>
                                </XMApp>
                                <XMDual>
                                  <XMRef idref="S2.E4.m2.4"/>
                                  <XMWrap>
                                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                                    <XMApp xml:id="S2.E4.m2.4">
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    </XMApp>
                                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                  </XMWrap>
                                </XMDual>
                              </XMApp>
                            </XMApp>
                            <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                    </XMApp>
                  </XMApp>
                </XMath>
              </Math>
              <MathBranch>
                <td align="right"><Math mode="inline" tex="\displaystyle\overrightarrow{dM(P_{m})}\cdot\overrightarrow{B_{c}(P_{m})}=-%&#10;\left|\overrightarrow{dM(P_{m})}\right|\left|\overrightarrow{B_{c}(P_{m})}\right|" text="overrightarrow@(d * M * P _ m) cdot overrightarrow@(B _ c * P _ m) = - absolute-value@(overrightarrow@(d * M * P _ m)) * absolute-value@(overrightarrow@(B _ c * P _ m))" xml:id="S2.E4.m1">
                    <XMath>
                      <XMApp>
                        <XMTok meaning="equals" role="RELOP">=</XMTok>
                        <XMApp>
                          <XMTok name="cdot" role="MULOP">⋅</XMTok>
                          <XMApp>
                            <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" role="UNKNOWN">d</XMTok>
                              <XMTok font="italic" role="UNKNOWN">M</XMTok>
                              <XMDual>
                                <XMRef idref="S2.E4.m1.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E4.m1.1">
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">c</XMTok>
                              </XMApp>
                              <XMDual>
                                <XMRef idref="S2.E4.m1.2"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E4.m1.2">
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                          </XMApp>
                        </XMApp>
                        <XMApp>
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="absolute-value"/>
                                <XMRef idref="S2.E4.m1.5"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                <XMApp xml:id="S2.E4.m1.5">
                                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                    <XMTok font="italic" role="UNKNOWN">M</XMTok>
                                    <XMDual>
                                      <XMRef idref="S2.E4.m1.3"/>
                                      <XMWrap>
                                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                                        <XMApp xml:id="S2.E4.m1.3">
                                          <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        </XMApp>
                                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMApp>
                                </XMApp>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                              </XMWrap>
                            </XMDual>
                            <XMDual>
                              <XMApp>
                                <XMTok meaning="absolute-value"/>
                                <XMRef idref="S2.E4.m1.6"/>
                              </XMApp>
                              <XMWrap>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                                <XMApp xml:id="S2.E4.m1.6">
                                  <XMTok name="overrightarrow" role="OVERACCENT">→</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                      <XMTok font="italic" role="UNKNOWN">B</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">c</XMTok>
                                    </XMApp>
                                    <XMDual>
                                      <XMRef idref="S2.E4.m1.4"/>
                                      <XMWrap>
                                        <XMTok role="OPEN" stretchy="false">(</XMTok>
                                        <XMApp xml:id="S2.E4.m1.4">
                                          <XMTok role="SUBSCRIPTOP" scriptpos="post4"/>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        </XMApp>
                                        <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                      </XMWrap>
                                    </XMDual>
                                  </XMApp>
                                </XMApp>
                                <XMTok role="VERTBAR" stretchy="true">|</XMTok>
                              </XMWrap>
                            </XMDual>
                          </XMApp>
                        </XMApp>
                      </XMApp>
                    </XMath>
                  </Math></td>
              </MathBranch>
            </MathFork>
          </equation>
        </equationgroup>
      </para>
      <para xml:id="S2.SS2.p5">
        <p>Putting the coil as a magnetic diole at the point <Math mode="inline" tex="P_{f}" text="P _ f" xml:id="S2.SS2.p5.m1">
            <XMath>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
              </XMApp>
            </XMath>
          </Math> to the direction <Math mode="inline" tex="-v_{f}" text="- v _ f" xml:id="S2.SS2.p5.m2">
            <XMath>
              <XMApp>
                <XMTok meaning="minus" role="ADDOP">-</XMTok>
                <XMApp>
                  <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                  <XMTok font="italic" role="UNKNOWN">v</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                </XMApp>
              </XMApp>
            </XMath>
          </Math>,
the direction of the magnetic flux density from this coil is shown as equation<ref labelref="LABEL:eq:Bcdir"/>.</p>
      </para>
      <para xml:id="S2.SS2.p6">
        <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx5">
          <equation labels="LABEL:eq:Bcdir" xml:id="S2.E5">
            <tags>
              <tag>(5)</tag>
              <tag role="refnum">5</tag>
            </tags>
            <MathFork>
              <Math tex="\displaystyle-\left(3P_{mx}(P_{mz}-10),3P_{my}(P_{mz}-10),2(P_{mz}-10)^{2}-P_{%&#10;mx}^{2}-P_{my}^{2}\right)" text="- vector@(3 * P _ (m * x) * (P _ (m * z) - 10), 3 * P _ (m * y) * (P _ (m * z) - 10), 2 * (P _ (m * z) - 10) ^ 2 - (P _ (m * x)) ^ 2 - (P _ (m * y)) ^ 2)" xml:id="S2.E5.m2">
                <XMath>
                  <XMApp>
                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="vector"/>
                        <XMRef idref="S2.E5.m2.1"/>
                        <XMRef idref="S2.E5.m2.2"/>
                        <XMRef idref="S2.E5.m2.3"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="true">(</XMTok>
                        <XMApp xml:id="S2.E5.m2.1">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="3" role="NUMBER">3</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMDual>
                            <XMRef idref="S2.E5.m2.1.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E5.m2.1.1">
                                <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok meaning="10" role="NUMBER">10</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMApp xml:id="S2.E5.m2.2">
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok meaning="3" role="NUMBER">3</XMTok>
                          <XMApp>
                            <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                            <XMTok font="italic" role="UNKNOWN">P</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                              <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMDual>
                            <XMRef idref="S2.E5.m2.2.1"/>
                            <XMWrap>
                              <XMTok role="OPEN" stretchy="false">(</XMTok>
                              <XMApp xml:id="S2.E5.m2.2.1">
                                <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok meaning="10" role="NUMBER">10</XMTok>
                              </XMApp>
                              <XMTok role="CLOSE" stretchy="false">)</XMTok>
                            </XMWrap>
                          </XMDual>
                        </XMApp>
                        <XMTok role="PUNCT">,</XMTok>
                        <XMApp xml:id="S2.E5.m2.3">
                          <XMTok meaning="minus" role="ADDOP">-</XMTok>
                          <XMApp>
                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                            <XMTok meaning="2" role="NUMBER">2</XMTok>
                            <XMApp>
                              <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                              <XMDual>
                                <XMRef idref="S2.E5.m2.3.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E5.m2.3.1">
                                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                              <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                            </XMApp>
                          </XMApp>
                          <XMApp>
                            <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                              <XMTok font="italic" role="UNKNOWN">P</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                          </XMApp>
                          <XMApp>
                            <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                              <XMTok font="italic" role="UNKNOWN">P</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                          </XMApp>
                        </XMApp>
                        <XMTok role="CLOSE" stretchy="true">)</XMTok>
                      </XMWrap>
                    </XMDual>
                  </XMApp>
                </XMath>
              </Math>
              <MathBranch>
                <td align="right"><Math mode="inline" tex="\displaystyle-\left(3P_{mx}(P_{mz}-10),3P_{my}(P_{mz}-10),2(P_{mz}-10)^{2}-P_{%&#10;mx}^{2}-P_{my}^{2}\right)" text="- vector@(3 * P _ (m * x) * (P _ (m * z) - 10), 3 * P _ (m * y) * (P _ (m * z) - 10), 2 * (P _ (m * z) - 10) ^ 2 - (P _ (m * x)) ^ 2 - (P _ (m * y)) ^ 2)" xml:id="S2.E5.m1">
                    <XMath>
                      <XMApp>
                        <XMTok meaning="minus" role="ADDOP">-</XMTok>
                        <XMDual>
                          <XMApp>
                            <XMTok meaning="vector"/>
                            <XMRef idref="S2.E5.m1.1"/>
                            <XMRef idref="S2.E5.m1.2"/>
                            <XMRef idref="S2.E5.m1.3"/>
                          </XMApp>
                          <XMWrap>
                            <XMTok role="OPEN" stretchy="true">(</XMTok>
                            <XMApp xml:id="S2.E5.m1.1">
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="3" role="NUMBER">3</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMDual>
                                <XMRef idref="S2.E5.m1.1.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E5.m1.1.1">
                                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                            <XMTok role="PUNCT">,</XMTok>
                            <XMApp xml:id="S2.E5.m1.2">
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMTok meaning="3" role="NUMBER">3</XMTok>
                              <XMApp>
                                <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMDual>
                                <XMRef idref="S2.E5.m1.2.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S2.E5.m1.2.1">
                                    <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                      <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                      <XMApp>
                                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                      </XMApp>
                                    </XMApp>
                                    <XMTok meaning="10" role="NUMBER">10</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                            <XMTok role="PUNCT">,</XMTok>
                            <XMApp xml:id="S2.E5.m1.3">
                              <XMTok meaning="minus" role="ADDOP">-</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok meaning="2" role="NUMBER">2</XMTok>
                                <XMApp>
                                  <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                  <XMDual>
                                    <XMRef idref="S2.E5.m1.3.1"/>
                                    <XMWrap>
                                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="S2.E5.m1.3.1">
                                        <XMTok meaning="minus" role="ADDOP">-</XMTok>
                                        <XMApp>
                                          <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                          <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                          <XMApp>
                                            <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                            <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                                          </XMApp>
                                        </XMApp>
                                        <XMTok meaning="10" role="NUMBER">10</XMTok>
                                      </XMApp>
                                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                  <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                                </XMApp>
                              </XMApp>
                              <XMApp>
                                <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                              <XMApp>
                                <XMTok role="SUPERSCRIPTOP" scriptpos="post3"/>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post3"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMTok role="CLOSE" stretchy="true">)</XMTok>
                          </XMWrap>
                        </XMDual>
                      </XMApp>
                    </XMath>
                  </Math></td>
              </MathBranch>
            </MathFork>
          </equation>
        </equationgroup>
      </para>
      <para xml:id="S2.SS2.p7">
        <p>Comparing with equation<ref labelref="LABEL:eq:dMdir"/>, this is not perfect, but can be used as a approximation.</p>
      </para>
<!--  %**** MagnetFocusing.tex Line 125 **** -->    </subsection>
  </section>
  <section inlist="toc" xml:id="S3">
    <tags>
      <tag>3</tag>
      <tag role="refnum">3</tag>
      <tag role="typerefnum">§3</tag>
    </tags>
    <title><tag close=" ">3</tag>Relation with Halbach Array</title>
    <para xml:id="S3.p1">
      <p>You can see the direction of the magnetic dipoles goes “<Math mode="inline" tex="\downarrow\rightarrow\uparrow\leftarrow\downarrow" text="list@(downarrow, rightarrow, uparrow, leftarrow, downarrow)" xml:id="S3.p1.m1">
          <XMath>
            <XMDual>
              <XMApp>
                <XMTok meaning="list"/>
                <XMRef idref="S3.p1.m1.1"/>
                <XMRef idref="S3.p1.m1.2"/>
                <XMRef idref="S3.p1.m1.3"/>
                <XMRef idref="S3.p1.m1.4"/>
                <XMRef idref="S3.p1.m1.5"/>
              </XMApp>
              <XMWrap>
                <XMTok name="downarrow" role="ARROW" xml:id="S3.p1.m1.1">↓</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="rightarrow" role="ARROW" xml:id="S3.p1.m1.2">→</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="uparrow" role="ARROW" xml:id="S3.p1.m1.3">↑</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="leftarrow" role="ARROW" xml:id="S3.p1.m1.4">←</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="downarrow" role="ARROW" xml:id="S3.p1.m1.5">↓</XMTok>
              </XMWrap>
            </XMDual>
          </XMath>
        </Math>”
near the <Math mode="inline" tex="P_{mz}=5" text="P _ (m * z) = 5" xml:id="S3.p1.m2">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                </XMApp>
              </XMApp>
              <XMTok meaning="5" role="NUMBER">5</XMTok>
            </XMApp>
          </XMath>
        </Math> on Figure<ref labelref="LABEL:fig:simulation_opt"/>.
This is a part of the Halbach Array.
Trimming this part to “<Math mode="inline" tex="\rightarrow\uparrow\leftarrow" text="list@(rightarrow, uparrow, leftarrow)" xml:id="S3.p1.m3">
          <XMath>
            <XMDual>
              <XMApp>
                <XMTok meaning="list"/>
                <XMRef idref="S3.p1.m3.1"/>
                <XMRef idref="S3.p1.m3.2"/>
                <XMRef idref="S3.p1.m3.3"/>
              </XMApp>
              <XMWrap>
                <XMTok name="rightarrow" role="ARROW" xml:id="S3.p1.m3.1">→</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="uparrow" role="ARROW" xml:id="S3.p1.m3.2">↑</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="leftarrow" role="ARROW" xml:id="S3.p1.m3.3">←</XMTok>
              </XMWrap>
            </XMDual>
          </XMath>
        </Math>”, connecting with opposing “<Math mode="inline" tex="\leftarrow\downarrow\rightarrow" text="list@(leftarrow, downarrow, rightarrow)" xml:id="S3.p1.m4">
          <XMath>
            <XMDual>
              <XMApp>
                <XMTok meaning="list"/>
                <XMRef idref="S3.p1.m4.1"/>
                <XMRef idref="S3.p1.m4.2"/>
                <XMRef idref="S3.p1.m4.3"/>
              </XMApp>
              <XMWrap>
                <XMTok name="leftarrow" role="ARROW" xml:id="S3.p1.m4.1">←</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="downarrow" role="ARROW" xml:id="S3.p1.m4.2">↓</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="rightarrow" role="ARROW" xml:id="S3.p1.m4.3">→</XMTok>
              </XMWrap>
            </XMDual>
          </XMath>
        </Math>”,
then repeatedly copying and pasting, make the Halbach Array
“<Math mode="inline" tex="\rightarrow\uparrow\leftarrow\downarrow\rightarrow\uparrow\leftarrow\cdots" xml:id="S3.p1.m5">
          <XMath>
            <XMTok name="rightarrow" role="ARROW" xml:id="S3.p1.m5.1">→</XMTok>
            <XMTok name="uparrow" role="ARROW" xml:id="S3.p1.m5.2">↑</XMTok>
            <XMTok name="leftarrow" role="ARROW" xml:id="S3.p1.m5.3">←</XMTok>
            <XMTok name="downarrow" role="ARROW" xml:id="S3.p1.m5.4">↓</XMTok>
            <XMTok name="rightarrow" role="ARROW" xml:id="S3.p1.m5.5">→</XMTok>
            <XMTok name="uparrow" role="ARROW" xml:id="S3.p1.m5.6">↑</XMTok>
            <XMTok name="leftarrow" role="ARROW" xml:id="S3.p1.m5.7">←</XMTok>
            <XMTok name="cdots" role="ID">⋯</XMTok>
          </XMath>
        </Math>”.</p>
    </para>
    <para xml:id="S3.p2">
      <p>The period of this Halbach Array <Math mode="inline" tex="L" text="L" xml:id="S3.p2.m1">
          <XMath>
            <XMTok font="italic" role="UNKNOWN">L</XMTok>
          </XMath>
        </Math> is twice length of the “<Math mode="inline" tex="\rightarrow\uparrow\leftarrow" text="list@(rightarrow, uparrow, leftarrow)" xml:id="S3.p2.m2">
          <XMath>
            <XMDual>
              <XMApp>
                <XMTok meaning="list"/>
                <XMRef idref="S3.p2.m2.1"/>
                <XMRef idref="S3.p2.m2.2"/>
                <XMRef idref="S3.p2.m2.3"/>
              </XMApp>
              <XMWrap>
                <XMTok name="rightarrow" role="ARROW" xml:id="S3.p2.m2.1">→</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="uparrow" role="ARROW" xml:id="S3.p2.m2.2">↑</XMTok>
                <XMTok role="PUNCT">⁣</XMTok>
                <XMTok name="leftarrow" role="ARROW" xml:id="S3.p2.m2.3">←</XMTok>
              </XMWrap>
            </XMDual>
          </XMath>
        </Math>” part.
The <Math mode="inline" tex="P_{my}" text="P _ (m * y)" xml:id="S3.p2.m3">
          <XMath>
            <XMApp>
              <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
              <XMTok font="italic" role="UNKNOWN">P</XMTok>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
              </XMApp>
            </XMApp>
          </XMath>
        </Math> of these “<Math mode="inline" tex="\rightarrow^{\prime\prime}and``\leftarrow" text="absent rightarrow ^ prime2 a * n * d * ` * ` leftarrow absent" xml:id="S3.p2.m4">
          <XMath>
            <XMApp>
              <XMTok meaning="multirelation"/>
              <XMTok meaning="absent"/>
              <XMApp role="ARROW">
                <XMTok role="SUPERSCRIPTOP" scriptpos="post1"/>
                <XMTok name="rightarrow" role="ARROW">→</XMTok>
                <XMTok fontsize="70%" name="prime2" role="SUPOP">′′</XMTok>
              </XMApp>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMTok font="italic" role="UNKNOWN">a</XMTok>
                <XMTok font="italic" role="UNKNOWN">n</XMTok>
                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                <XMTok role="UNKNOWN">`</XMTok>
                <XMTok role="UNKNOWN">`</XMTok>
              </XMApp>
              <XMTok name="leftarrow" role="ARROW">←</XMTok>
              <XMTok meaning="absent"/>
            </XMApp>
          </XMath>
        </Math>” can be get with solving equations<ref labelref="LABEL:eq:HalbachLength"/>.</p>
    </para>
    <para xml:id="S3.p3">
      <equationgroup class="ltx_eqn_eqnarray" xml:id="S4.EGx6">
        <equation labels="LABEL:eq:HalbachLength" xml:id="S3.E6">
          <tags>
            <tag>(6)</tag>
            <tag role="refnum">6</tag>
          </tags>
          <MathFork>
            <Math tex="\displaystyle\left\{\begin{array}[]{l}P_{mx}=0\\&#10;v_{f}\cdot dM(P_{m})=0\end{array}\right." text="cases@(Array[[P _ (m * x) = 0], [(v _ f cdot d) * M * P _ m = 0]])" xml:id="S3.E6.m2">
              <XMath>
                <XMDual>
                  <XMApp>
                    <XMTok meaning="cases"/>
                    <XMRef idref="S3.E6.m2.2"/>
                  </XMApp>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="true">{</XMTok>
                    <XMArray role="ARRAY" vattach="middle" xml:id="S3.E6.m2.2">
                      <XMRow>
                        <XMCell align="left">
                          <XMApp>
                            <XMTok meaning="equals" role="RELOP">=</XMTok>
                            <XMApp>
                              <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                              <XMTok font="italic" role="UNKNOWN">P</XMTok>
                              <XMApp>
                                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                              </XMApp>
                            </XMApp>
                            <XMTok meaning="0" role="NUMBER">0</XMTok>
                          </XMApp>
                        </XMCell>
                      </XMRow>
                      <XMRow>
                        <XMCell align="left">
                          <XMApp>
                            <XMTok meaning="equals" role="RELOP">=</XMTok>
                            <XMApp>
                              <XMTok meaning="times" role="MULOP">⁢</XMTok>
                              <XMApp>
                                <XMTok name="cdot" role="MULOP">⋅</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                                  <XMTok font="italic" role="UNKNOWN">v</XMTok>
                                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                </XMApp>
                                <XMTok font="italic" role="UNKNOWN">d</XMTok>
                              </XMApp>
                              <XMTok font="italic" role="UNKNOWN">M</XMTok>
                              <XMDual>
                                <XMRef idref="S3.E6.m2.1"/>
                                <XMWrap>
                                  <XMTok role="OPEN" stretchy="false">(</XMTok>
                                  <XMApp xml:id="S3.E6.m2.1">
                                    <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                                    <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                  </XMApp>
                                  <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                </XMWrap>
                              </XMDual>
                            </XMApp>
                            <XMTok meaning="0" role="NUMBER">0</XMTok>
                          </XMApp>
                        </XMCell>
                      </XMRow>
                    </XMArray>
                    <XMTok meaning="absent"/>
                  </XMWrap>
                </XMDual>
              </XMath>
            </Math>
            <MathBranch>
              <td align="right"><Math mode="inline" tex="\displaystyle\left\{\begin{array}[]{l}P_{mx}=0\\&#10;v_{f}\cdot dM(P_{m})=0\end{array}\right." text="cases@(Array[[P _ (m * x) = 0], [(v _ f cdot d) * M * P _ m = 0]])" xml:id="S3.E6.m1">
                  <XMath>
                    <XMDual>
                      <XMApp>
                        <XMTok meaning="cases"/>
                        <XMRef idref="S3.E6.m1.2"/>
                      </XMApp>
                      <XMWrap>
                        <XMTok role="OPEN" stretchy="true">{</XMTok>
                        <XMArray role="ARRAY" vattach="middle" xml:id="S3.E6.m1.2">
                          <XMRow>
                            <XMCell align="left">
                              <XMApp>
                                <XMTok meaning="equals" role="RELOP">=</XMTok>
                                <XMApp>
                                  <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                                  <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                  <XMApp>
                                    <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                    <XMTok font="italic" fontsize="70%" role="UNKNOWN">x</XMTok>
                                  </XMApp>
                                </XMApp>
                                <XMTok meaning="0" role="NUMBER">0</XMTok>
                              </XMApp>
                            </XMCell>
                          </XMRow>
                          <XMRow>
                            <XMCell align="left">
                              <XMApp>
                                <XMTok meaning="equals" role="RELOP">=</XMTok>
                                <XMApp>
                                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                                  <XMApp>
                                    <XMTok name="cdot" role="MULOP">⋅</XMTok>
                                    <XMApp>
                                      <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                                      <XMTok font="italic" role="UNKNOWN">v</XMTok>
                                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">f</XMTok>
                                    </XMApp>
                                    <XMTok font="italic" role="UNKNOWN">d</XMTok>
                                  </XMApp>
                                  <XMTok font="italic" role="UNKNOWN">M</XMTok>
                                  <XMDual>
                                    <XMRef idref="S3.E6.m1.1"/>
                                    <XMWrap>
                                      <XMTok role="OPEN" stretchy="false">(</XMTok>
                                      <XMApp xml:id="S3.E6.m1.1">
                                        <XMTok role="SUBSCRIPTOP" scriptpos="post8"/>
                                        <XMTok font="italic" role="UNKNOWN">P</XMTok>
                                        <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                                      </XMApp>
                                      <XMTok role="CLOSE" stretchy="false">)</XMTok>
                                    </XMWrap>
                                  </XMDual>
                                </XMApp>
                                <XMTok meaning="0" role="NUMBER">0</XMTok>
                              </XMApp>
                            </XMCell>
                          </XMRow>
                        </XMArray>
                        <XMTok meaning="absent"/>
                      </XMWrap>
                    </XMDual>
                  </XMath>
                </Math></td>
            </MathBranch>
          </MathFork>
        </equation>
      </equationgroup>
    </para>
    <para xml:id="S3.p4">
      <p>The equations<ref labelref="LABEL:eq:HalbachLength"/> give <Math mode="inline" tex="P_{my}=\pm\frac{P_{mz}-10}{\sqrt{2}}" text="P _ (m * y) = plus-or-minus (P _ (m * z) - 10) / square-root@(2)" xml:id="S3.p4.m1">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMApp>
                <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                <XMTok font="italic" role="UNKNOWN">P</XMTok>
                <XMApp>
                  <XMTok meaning="times" role="MULOP">⁢</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                  <XMTok font="italic" fontsize="70%" role="UNKNOWN">y</XMTok>
                </XMApp>
              </XMApp>
              <XMApp>
                <XMTok meaning="plus-or-minus" name="pm" role="ADDOP">±</XMTok>
                <XMApp>
                  <XMTok mathstyle="text" meaning="divide" role="FRACOP"/>
                  <XMApp>
                    <XMTok fontsize="70%" meaning="minus" role="ADDOP">-</XMTok>
                    <XMApp>
                      <XMTok role="SUBSCRIPTOP" scriptpos="post2"/>
                      <XMTok font="italic" fontsize="70%" role="UNKNOWN">P</XMTok>
                      <XMApp>
                        <XMTok meaning="times" role="MULOP">⁢</XMTok>
                        <XMTok font="italic" fontsize="50%" role="UNKNOWN">m</XMTok>
                        <XMTok font="italic" fontsize="50%" role="UNKNOWN">z</XMTok>
                      </XMApp>
                    </XMApp>
                    <XMTok fontsize="70%" meaning="10" role="NUMBER">10</XMTok>
                  </XMApp>
                  <XMApp>
                    <XMTok meaning="square-root"/>
                    <XMTok fontsize="70%" meaning="2" role="NUMBER">2</XMTok>
                  </XMApp>
                </XMApp>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>, so <Math mode="inline" tex="L=\sqrt{2}(P_{mz}-10)" text="L = square-root@(2) * (P _ (m * z) - 10)" xml:id="S3.p4.m2">
          <XMath>
            <XMApp>
              <XMTok meaning="equals" role="RELOP">=</XMTok>
              <XMTok font="italic" role="UNKNOWN">L</XMTok>
              <XMApp>
                <XMTok meaning="times" role="MULOP">⁢</XMTok>
                <XMApp>
                  <XMTok meaning="square-root"/>
                  <XMTok meaning="2" role="NUMBER">2</XMTok>
                </XMApp>
                <XMDual>
                  <XMRef idref="S3.p4.m2.1"/>
                  <XMWrap>
                    <XMTok role="OPEN" stretchy="false">(</XMTok>
                    <XMApp xml:id="S3.p4.m2.1">
                      <XMTok meaning="minus" role="ADDOP">-</XMTok>
                      <XMApp>
                        <XMTok role="SUBSCRIPTOP" scriptpos="post1"/>
                        <XMTok font="italic" role="UNKNOWN">P</XMTok>
                        <XMApp>
                          <XMTok meaning="times" role="MULOP">⁢</XMTok>
                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">m</XMTok>
                          <XMTok font="italic" fontsize="70%" role="UNKNOWN">z</XMTok>
                        </XMApp>
                      </XMApp>
                      <XMTok meaning="10" role="NUMBER">10</XMTok>
                    </XMApp>
                    <XMTok role="CLOSE" stretchy="false">)</XMTok>
                  </XMWrap>
                </XMDual>
              </XMApp>
            </XMApp>
          </XMath>
        </Math>.
This implies that the optimum period of the Halbach Array can be decided with the distance from the point
where we want to maximize the magnetic flux density.
<!--  %**** MagnetFocusing.tex Line 150 **** --></p>
    </para>
  </section>
  <section inlist="toc" xml:id="S4">
    <tags>
      <tag>4</tag>
      <tag role="refnum">4</tag>
      <tag role="typerefnum">§4</tag>
    </tags>
    <title><tag close=" ">4</tag>Conclusion</title>
    <para xml:id="S4.p1">
      <p>Magnets can be intensified with optimization of its magnetic dipole 3D array.
Example and magnetization methods for simple situation had be shown.
Applying this to the Halbach Array, its period can be decided with the distance from the point
where we want to maximize the magnetic flux density.</p>
    </para>
  </section>
</document>
